<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/progress.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="{{ url_for('static', filename='js/progress.js') }}"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css" />
    <script>
        const urls = {
            homeButton: "{{ url_for('paideia') }}",
            graphButton: "{{ url_for('graph') }}",
            progressButton: "{{ url_for('progress') }}",
            settingButton: "{{ url_for('setting') }}"
        };
    </script>
</head>
<body>
    <div class="card-group">
        <div class="leftCardBody">
            <div class="leftTopCard">
                <h5 class="cardTitle">기말고사</h5>
                <p class="dDay">d-day</p>
                <p class="cheerUpMent"><small class="text-body-secondary"><span id="userNameDisplay">코코아버터</span>님 오늘도 화이팅하세요</small></p>
            </div>
            <div class="cateGory">
                <article class="cateGory1" id="homeButton">
                    <img src="{{ url_for('static', filename='image/cocohome.png') }}" class="homeIcon" alt="homeIcon">
                    홈
                </article>
                <article class="cateGory2" id="graphButton">
                    <img src="{{ url_for('static', filename='image/cocograph.png') }}" class="progressIcon" alt="progressIcon">
                    지난 학습과제
                </article>
                <article class="cateGory3" id="progressButton">
                    <img src="{{ url_for('static', filename='image/progress.png') }}" class="cocograph" alt="cocograph">
                    학습페이지
                </article>
                <article class="cateGory4" id="settingButton">
                    <img src="{{ url_for('static', filename='image/cocosetting.png') }}" class="cocoSettingIcon" alt="cocoSettingIcon">
                    설정
                </article>
            </div>
        </div>
        <div class="rightCardBody">
            <div>
                <article class="print" id="printButton">
                    <img src="{{ url_for('static', filename='image/print.png') }}" class="printIcon" alt="printIcon">
                    인쇄하기
                </article>
            </div>
            <div class="aaaa">
                <div class="cards">
                    <img src="{{ url_for('static', filename='image/star.png') }}" class="star" alt="star">
                    <div class="card-body">
                        <h5 class="alert alert-success" role="alert">
                            <details id="todayDetails">
                                <summary id="learning">오늘의 문제</summary>
                                <p id="quiz">오늘의 퀴즈</p>
                            </details>
                        </h5>
                        <p class="todayLearning" id="todayLearning">
                        </p>
                        <p class="todayQuiz" id="todayQuiz">{{quizContent|safe}}</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="print-container"></div>
    </div>

    <!-- Print Modal -->
    <div class="modal fade" id="printModal" tabindex="-1" aria-labelledby="printModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="printModalLabel">Paideia에서 알려드립니다!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    현재 인쇄서비스는 EPSON 프린터에서만 제공하고 있어요! 가까운 곳에 해당 서비스를 제공하는 EPSON 프린터기가 있는지 확인해볼까요?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="cancelButton" data-bs-dismiss="modal">취소</button>
                    <button type="button" class="btn btn-primary" id="confirmButton">확인</button>
                </div>
            </div>
        </div>
    </div>

    <!-- EPSON Printer List Modal -->
    <div class="modal fade" id="printerListModal" tabindex="-1" aria-labelledby="printerListModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="printerListModalLabel">EPSON 프린터가 있는 기관 목록</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <ul id="printerList">
                        <li><a href="#" class="printer-option">서울시 강남구 Paideia 센터</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Print Success Modal -->
    <div class="modal fade" id="printSuccessModal" tabindex="-1" aria-labelledby="printSuccessModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="printSuccessModalLabel">인쇄 완료</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    프린트 출력이 완료되었습니다! 선택하신 지점으로 가서 자료를 받아가세요!
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">확인</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/progress.js') }}"></script>
</body>
</html>
